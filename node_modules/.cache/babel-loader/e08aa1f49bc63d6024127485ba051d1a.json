{"ast":null,"code":"var _jsxFileName = \"/Users/lex/Documents/PiXL/Web-Application/src/components/Unity/Unity.tsx\";\nimport React from \"react\";\nimport \"../../App.css\";\nimport Unity, { UnityContent } from \"react-unity-webgl\";\nimport { setTimeout } from \"timers\";\nimport { compose } from \"@taquito/taquito\";\nimport { Tzip12Module, tzip12 } from \"@taquito/tzip12\";\nimport { Tzip16Module, tzip16 } from \"@taquito/tzip16\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport class Unity1 extends React.Component {\n  constructor(props) {\n    super(props);\n    this.unityContent = void 0;\n    this.testData = [100000, 200000, 300000, 400000, 500000, 600000, 700000, 800000, 900000];\n    this.unityContent = new UnityContent(\"/Build/1.json\", \"/Build/UnityLoader.js\");\n  }\n\n  async componentDidUpdate(prevProps) {\n    var _this$props$userAddre;\n\n    if (((_this$props$userAddre = this.props.userAddress) === null || _this$props$userAddre === void 0 ? void 0 : _this$props$userAddre.length) > 1) {\n      this.setWalletAddress();\n      this.doContactShit();\n    }\n  }\n\n  async doContactShit() {\n    this.props.Tezos.addExtension(new Tzip16Module());\n    this.props.Tezos.addExtension(new Tzip12Module());\n    const contractAddress = \"KT1SGdop74rGobKAETcBPnz9yQkH38hZnpBh\";\n    const tokenId = 1;\n    const contract = await this.props.Tezos.contract.at(contractAddress, compose(tzip16, tzip12));\n    console.log(`Fetching the token metadata for the token ID ${tokenId}...`);\n    const metatData = await contract.tzip12().getTokenMetadata(1); //breaking here\n    // const storage: MichelsonMap<string, BigNumber> = await contract.storage();\n    // const x = storage.ledger.get(\"tz1dmSoZi281eKeU4B3W53LrAoqSa8kpCd6w\");\n    //\n\n    if (metatData) {}\n  }\n\n  addCard(id, e, cardId) {\n    const elementId = e.target.id;\n    const x = document.getElementById(elementId);\n\n    if (x) {\n      x.className = \"card animate__animated animate__backOutUp\";\n    }\n\n    this.unityContent.send(\"GameManager\", \"AddCard\", cardId);\n  }\n\n  setWalletAddress() {\n    setTimeout(() => {\n      this.unityContent.send(\"GameManager\", \"ConnectWallet\", this.props.userAddress);\n    }, 8000);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center ml-auto mr-auto w-8/12 h-auto\",\n        children: /*#__PURE__*/_jsxDEV(Unity, {\n          unityContent: this.unityContent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"card-list mt-2\",\n        children: this.testData.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n          id: user.toString(),\n          onClick: e => this.addCard(1, e, user.toString()),\n          className: \"card\"\n        }, user, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true);\n  }\n\n}\nexport default Unity1;","map":{"version":3,"sources":["/Users/lex/Documents/PiXL/Web-Application/src/components/Unity/Unity.tsx"],"names":["React","Unity","UnityContent","setTimeout","compose","Tzip12Module","tzip12","Tzip16Module","tzip16","Unity1","Component","constructor","props","unityContent","testData","componentDidUpdate","prevProps","userAddress","length","setWalletAddress","doContactShit","Tezos","addExtension","contractAddress","tokenId","contract","at","console","log","metatData","getTokenMetadata","addCard","id","e","cardId","elementId","target","x","document","getElementById","className","send","render","map","user","toString"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"../../App.css\";\nimport Unity, { UnityContent } from \"react-unity-webgl\";\nimport { setTimeout } from \"timers\";\nimport { compose, MichelsonMap, TezosToolkit } from \"@taquito/taquito\";\nimport { Tzip12Module, tzip12 } from \"@taquito/tzip12\";\nimport { Tzip16Module, tzip16 } from \"@taquito/tzip16\";\nimport { BigNumber } from 'bignumber.js';\n\ninterface IWalletProps {\n    Tezos: TezosToolkit;\n    publicToken: string | null;\n    userAddress: string;\n    userBalance: number;\n}\n\nexport class Unity1 extends React.Component<IWalletProps> {\n    unityContent: UnityContent;\n    testData = [100000, 200000, 300000, 400000, 500000, 600000, 700000, 800000, 900000];\n    constructor(props: any,) {\n        super(props);\n\n        this.unityContent = new UnityContent(\n            \"/Build/1.json\",\n            \"/Build/UnityLoader.js\"\n        );\n    }\n\n    async componentDidUpdate(prevProps: IWalletProps) {\n        if (this.props.userAddress?.length > 1) {\n            this.setWalletAddress();\n            this.doContactShit();\n        }\n    }\n\n    public async doContactShit() {\n        this.props.Tezos.addExtension(new Tzip16Module());\n        this.props.Tezos.addExtension(new Tzip12Module());\n\n        const contractAddress = \"KT1SGdop74rGobKAETcBPnz9yQkH38hZnpBh\";\n        const tokenId = 1;\n        const contract = await this.props.Tezos.contract.at(contractAddress, compose(tzip16, tzip12));\n\n        console.log(`Fetching the token metadata for the token ID ${tokenId}...`);\n        const metatData = await contract.tzip12().getTokenMetadata(1);\n\n        //breaking here\n        // const storage: MichelsonMap<string, BigNumber> = await contract.storage();\n        // const x = storage.ledger.get(\"tz1dmSoZi281eKeU4B3W53LrAoqSa8kpCd6w\");\n        //\n        \n        if (metatData) {\n        }\n    }\n\n\n    public addCard(id: number, e: React.MouseEvent<HTMLElement, MouseEvent>, cardId: string) {\n        const elementId = (e.target as HTMLElement).id;\n        const x = document.getElementById(elementId);\n        if (x) {\n            x.className = \"card animate__animated animate__backOutUp\"\n        }\n        this.unityContent.send(\"GameManager\", \"AddCard\", cardId);\n    }\n\n    private setWalletAddress() {\n        setTimeout(() => {\n            this.unityContent.send(\"GameManager\", \"ConnectWallet\", this.props.userAddress);\n        }, 8000);\n    }\n    render() {\n        return (\n            <><div className=\"flex flex-col items-center ml-auto mr-auto w-8/12 h-auto\">\n                <Unity unityContent={this.unityContent} />\n            </div><section className=\"card-list mt-2\">\n                    {this.testData.map((user) => (\n                        <div key={user} id={user.toString()} onClick={(e) => this.addCard(1, e, user.toString())} className=\"card\">\n\n                        </div>\n                    ))}\n                </section></>\n        );\n    }\n\n}\nexport default Unity1;"]},"metadata":{},"sourceType":"module"}